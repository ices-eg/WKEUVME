## set path to folder
pathdir <- "C:/Users/danie/Documents/Online for git/wk_WKEUVME"
pathdir_nogit <- "C:/Users/danie/Documents/Online for git/WKEUVME_noGIT" # stores the data from sharepoint
## get libraries
source(paste(pathdir,"6-Utilities/Libraries_WKEUVME.R",sep="/"))
# get fishing footprints
EcoReg <- "Celtic Seas"
source(paste(pathdir,"6-Utilities/Get fishing footprint mbcg_static.R", sep="/"))
FootprintCS <- Footprint
EcoReg <- "Bay of Biscay and the Iberian Coast"
source(paste(pathdir,"6-Utilities/Get fishing footprint mbcg_static.R", sep="/"))
Footprint <- rbind(Footprint, FootprintCS)
# 17 missed C-squares between CS and BoBIC (need to be checked with VMS data)
setwd(paste(pathdir,"1-Input data/csquares_ecoregions_depth",sep="/"))
depthreg  <- readRDS("Celtic Seas_depth.rds")
depthreg2 <- readRDS("Bay of Biscay and the Iberian Coast_depth.rds")
depthreg3 <- readRDS("Tip of portugal_depth.rds")
depthreg3 <- subset(depthreg3,is.na(depthreg3@data$Ecoregion) & !(is.na(depthreg3@data$mean_depth_emodnet)))
depthall  <- rbind(depthreg,depthreg2)
depthreg3 <- spTransform(depthreg3,CRS(proj4string(depthall)))
depthall  <- spTransform(depthall,CRS(proj4string(depthreg3)))
depthall  <- rbind(depthall,depthreg3)
depth     <- subset(depthall,depthall@data$within ==1)
depth     <- cbind(depth,Footprint[match(depth@data$csquares,Footprint$csquares),c("MBCG_footprint","Static_footprint","Both_footprint")])
depth     <- subset(depth, depth$long > -10 & depth$long <7.5)
depth     <- subset(depth, depth$lat > 47 & depth$lat < 50)
depth     <- subset(depth,depth$Both_footprint ==0)
miscsq    <- subset(depthall@data,depthall@data$csquares %in% depth$csquares)
miscsq[,c("ref_sar","MBCG_footprint","ref_static","Static_footprint", "ref", "Both_footprint")] <- 0
# Get depth data 400 - 800 m tip of Portugal
setwd(paste(pathdir,"1-Input data/csquares_ecoregions_depth",sep="/"))
Port <- readRDS("Tip of portugal_depth.rds")
Port <- subset(Port,is.na(Port@data$Ecoregion) & !(is.na(Port@data$mean_depth_emodnet)))
Port <- subset(Port@data,Port@data$within ==1)
Port[,c("ref_sar","MBCG_footprint","ref_static","Static_footprint", "ref", "Both_footprint")] <- 0
Port
head(Port)
head(mscq)
head(miscq)
head(miscsq)
dat <-rbind(miscsq[,1:3],Port[,1:3])
getwd()
write.csv(dat,file="csquares_for_colin.csv",header=T,row.names = F)
write.csv(dat,file="csquares_for_colin.csv",row.names = F)
?glm
library(AED); data(Tbdeer)
install.packages("AED")
